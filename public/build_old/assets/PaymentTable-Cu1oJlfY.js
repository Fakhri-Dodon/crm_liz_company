import{a as le,r as x,j as e,c as X}from"./app--V8YQuQk.js";import{u as Y}from"./useTranslation-DGCn9e9S.js";import{C as O}from"./credit-card-C6jIzrGW.js";import{S as G}from"./square-pen-HBgHTwPe.js";import{T as z}from"./trash-2-D2TdDDoH.js";import{X as ne}from"./x-DGqtnagE.js";import{S as de}from"./save-ChX0yG6a.js";import{C as ie}from"./circle-alert-CxrL5ccl.js";import{F as oe}from"./file-text-BkpdNTL0.js";import{c as ce}from"./createLucideIcon-D7A-7CJ7.js";import{L as me}from"./landmark-ot9IelP-.js";const xe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ue=ce("dollar-sign",xe),he=({data:d,companyId:r,showInvoiceAmount:q=!1})=>{const{t:s}=Y(),{props:be}=le(),[w,J]=x.useState(null),[M,R]=x.useState({text:"",x:0,y:0}),[K,S]=x.useState(!1),[Q,P]=x.useState(!1),[i,b]=x.useState(null),[c,p]=x.useState({amount:"",method:"transfer",date:"",bank:"",note:""}),[o,f]=x.useState(!1),[l,k]=x.useState({});x.useEffect(()=>{console.log("PaymentTable props:",{companyId:r,dataLength:d?.length||0,hasCompanyId:!!r})},[r,d]);const V=t=>{if(t==null||t===""||isNaN(t))return s("payment_table.currency_format",{amount:0});const a=Number(t);return a>=1e9?s("payment_table.currency_m",{amount:(a/1e9).toFixed(1)}):a>=1e6?s("payment_table.currency_jt",{amount:(a/1e6).toFixed(1)}):a>=1e3?s("payment_table.currency_rb",{amount:(a/1e3).toFixed(0)}):s("payment_table.currency_format",{amount:a})},N=t=>{if(t==null||t===""||isNaN(t))return s("payment_table.currency_format",{amount:0});const a=Number(t);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)},C=t=>{if(!t)return s("payment_table.not_available");try{const a=new Date(t);return isNaN(a.getTime())?s("payment_table.invalid_date"):a.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}catch(a){return console.error("Error formatting date:",a),s("payment_table.invalid_date")}},E=t=>t.invoice_number?t.invoice_number:t.invoice?.invoice_number?t.invoice.invoice_number:t.invoice_id?`INV-${t.invoice_id.substring(0,8)}`:s("payment_table.no_invoice"),$=t=>t.invoice_amount!==void 0&&t.invoice_amount!==null?Number(t.invoice_amount):t.invoice?.amount_due!==void 0&&t.invoice.amount_due!==null?Number(t.invoice.amount_due):t.invoice?.total!==void 0&&t.invoice.total!==null?Number(t.invoice.total):0,A=t=>t.amount!==void 0&&t.amount!==null?Number(t.amount):0,B=t=>{const a="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",m=(t||"").toString().toLowerCase();switch(m){case"bank_transfer":case"transfer":return e.jsxs("span",{className:`${a} bg-blue-100 text-blue-800`,children:[e.jsx(me,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:s("payment_table.method_transfer")}),e.jsx("span",{className:"sm:hidden",children:s("payment_table.method_transfer_short")})]});case"cash":return e.jsxs("span",{className:`${a} bg-green-100 text-green-800`,children:[e.jsx(ue,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:s("payment_table.method_cash")}),e.jsx("span",{className:"sm:hidden",children:s("payment_table.method_cash_short")})]});case"check":return e.jsxs("span",{className:`${a} bg-purple-100 text-purple-800`,children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:s("payment_table.method_check")}),e.jsx("span",{className:"sm:hidden",children:s("payment_table.method_check_short")})]});default:return e.jsx("span",{className:`${a} bg-gray-100 text-gray-800`,children:m||s("payment_table.not_available")})}},T=t=>{J(w===t?null:t)},v=(t,a)=>{R({text:t,x:a.clientX+10,y:a.clientY+10})},_=()=>{R({text:"",x:0,y:0})},H=t=>{if(!r){console.error("Company ID is required for edit");return}b(t),p({amount:t.amount,method:t.method,date:t.date||new Date().toISOString().split("T")[0],bank:t.bank||"",note:t.note||""}),k({}),S(!0)},I=t=>{if(!r){console.error("Company ID is required for delete");return}b(t),P(!0)},U=()=>{if(!i||!r){console.error("Company ID or selected payment is missing");return}f(!0),k({}),X.put(route("companies.payments.update",{company:r,payment:i.id}),c,{preserveScroll:!0,onSuccess:()=>{S(!1),b(null),p({amount:"",method:"transfer",date:"",bank:"",note:""}),f(!1)},onError:t=>{console.error("Error updating payment:",t),k(t),f(!1)}})},Z=()=>{if(!i||!r){console.error("Company ID or selected payment is missing");return}f(!0),X.delete(route("companies.payments.destroy",{company:r,payment:i.id}),{preserveScroll:!0,onSuccess:()=>{P(!1),b(null),f(!1)},onError:t=>{console.error("Error deleting payment:",t),f(!1)}})};if(!d||d.length===0)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(O,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s("payment_table.no_payments_found")}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:s("payment_table.no_payments_message")})]});const g=({amount:t,className:a=""})=>{const{t:m}=Y(),[u,y]=x.useState(!1),h=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(t)||0);return h.length>12?e.jsxs("span",{className:a,children:[u?h:h.slice(0,10)+"...",e.jsx("button",{type:"button",className:"ml-1 text-blue-600 underline text-xs focus:outline-none",onClick:()=>y(j=>!j),children:m(u?"payment_table.collapse":"payment_table.expand")})]}):e.jsx("span",{className:a,children:h})},ee=({payment:t})=>{const a=E(t),m=$(t),u=A(t),y=t.method||t.payment_method||"unknown",h=t.bank||t.bank_name||s("payment_table.not_available"),n=t.note||t.notes||t.description||"";return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-3 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(oe,{className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:a}),e.jsx("p",{className:"text-xs text-gray-500",children:C(t.date)})]})]})}),B(y)]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[q&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:s("payment_table.invoice_amount")}),e.jsx("p",{className:"text-xs font-medium text-gray-700 cursor-help",onMouseEnter:j=>v(N(m),j),onMouseLeave:_,children:e.jsx(g,{amount:m})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 text-right",children:s("payment_table.payment_amount")}),e.jsx("p",{className:"text-sm font-bold text-green-900 cursor-help",onMouseEnter:j=>v(N(u),j),onMouseLeave:_,children:e.jsx(g,{amount:u})})]})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:s("payment_table.bank_method")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:h}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:y})]})]}),n&&e.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:s("payment_table.notes")}),e.jsxs("div",{className:"text-xs text-gray-700",children:[w===t.id||n.length<60?e.jsx(e.Fragment,{children:n}):e.jsxs(e.Fragment,{children:[n.substring(0,60),"...",e.jsx("button",{onClick:()=>T(t.id),className:"text-blue-600 hover:text-blue-800 ml-1 font-medium",children:s("payment_table.read_more")})]}),w===t.id&&e.jsx("button",{onClick:()=>T(t.id),className:"text-blue-600 hover:text-blue-800 ml-2 font-medium text-xs",children:s("payment_table.show_less")})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>H(t),className:"flex-1 flex items-center justify-center space-x-1 px-2 py-2 bg-gray-50 text-gray-700 rounded-lg text-xs hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!r,title:r?"Edit Payment":"Company ID missing",children:[e.jsx(G,{className:"w-3 h-3"}),e.jsx("span",{children:s("payment_table.edit")})]}),e.jsxs("button",{onClick:()=>I(t),className:"flex-1 flex items-center justify-center space-x-1 px-2 py-2 bg-red-50 text-red-700 rounded-lg text-xs hover:bg-red-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!r,title:r?"Delete Payment":"Company ID missing",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{children:s("payment_table.delete")})]})]}),t.created_by&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[s("payment_table.created_by"),": ",t.created_by?.name||"System"]}),t.updated_by&&e.jsxs("div",{className:"text-xs text-gray-500",children:[s("payment_table.updated_by"),": ",t.updated_by?.name]})]})})]})},D=d.length,F=d.reduce((t,a)=>t+A(a),0),L=d.reduce((t,a)=>t+$(a),0),te=d.filter(t=>["transfer","bank_transfer"].includes((t.method||"").toLowerCase())).length,se=d.filter(t=>(t.method||"").toLowerCase()==="cash").length,ae=d.filter(t=>(t.method||"").toLowerCase()==="check").length,W=D>0?F/D:0,re=L>0?F/L*100:0;return e.jsxs("div",{className:"relative",children:[M.text&&e.jsx("div",{className:"fixed z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none",style:{left:`${M.x}px`,top:`${M.y}px`,transform:"translateY(-100%)"},children:M.text}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:s("payment_table.payment_history")}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:s("payment_table.payment_count",{count:D,plural:D!==1?"s":""})})]}),e.jsx("div",{className:"sm:hidden",children:d.map(t=>e.jsx(ee,{payment:t},t.id))}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"overflow-x-auto -mx-2",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-[#e2e8f0]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s("payment_table.invoice_number")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s("payment_table.date")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s("payment_table.amount")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s("payment_table.method")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s("payment_table.bank")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s("payment_table.notes")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s("payment_table.created_by")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s("payment_table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(t=>{const a=E(t),m=$(t),u=A(t),y=t.method||t.payment_method||"unknown",h=t.bank||t.bank_name||"-",n=t.note||t.notes||t.description||"";return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-blue-900",children:a}),q&&e.jsxs("div",{className:"text-xs text-gray-500",children:[s("payment_table.invoice_amount_short"),": ",e.jsx(g,{amount:m})]})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"text-gray-900 whitespace-nowrap",children:C(t.date)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"font-bold text-green-900 cursor-help",onMouseEnter:j=>v(N(u),j),onMouseLeave:_,children:e.jsx(g,{amount:u})})}),e.jsx("td",{className:"px-4 py-3",children:B(y)}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-gray-900",children:h}),e.jsx("div",{className:"text-xs text-gray-500 capitalize",children:y})]}),e.jsx("td",{className:"px-4 py-3 max-w-[180px]",children:e.jsxs("div",{className:`text-gray-900 ${n.length>50?"cursor-pointer":""}`,onClick:()=>n.length>50&&T(t.id),title:n.length>50?s("payment_table.click_to_expand"):"",children:[w===t.id?n||s("payment_table.no_notes"):n.length>50?`${n.substring(0,50)}...`:n||s("payment_table.no_notes"),n.length>50&&w!==t.id&&e.jsx("span",{className:"text-blue-600 text-xs ml-1",children:"[+]"})]})}),e.jsx("td",{className:"px-4 py-3",children:t.created_by?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.created_by.name||t.created_by}),e.jsx("div",{className:"text-xs text-gray-500",children:t.created_at?C(t.created_at):""})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>H(t),className:"p-1 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:r?s("payment_table.edit"):"Company ID missing",disabled:!r,children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(t),className:"p-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:r?s("payment_table.delete"):"Company ID missing",disabled:!r,children:e.jsx(z,{className:"w-4 h-4"})})]})})]},t.id)})})]})})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 p-3 md:p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:s("payment_table.total_payments")}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:D})]}),e.jsxs("div",{className:"bg-green-50 p-3 md:p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:s("payment_table.total_received")}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900 cursor-help",onMouseEnter:t=>v(N(F),t),onMouseLeave:_,children:e.jsx(g,{amount:F})})]}),e.jsxs("div",{className:"bg-purple-50 p-3 md:p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:s("payment_table.bank_transfers")}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:te})]}),e.jsxs("div",{className:"bg-yellow-50 p-3 md:p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:s("payment_table.average_payment")}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900 cursor-help",onMouseEnter:t=>v(N(W),t),onMouseLeave:_,children:e.jsx(g,{amount:W})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:[e.jsxs("div",{className:"bg-red-50 p-3 md:p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:s("payment_table.cash_payments")}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:se})]}),e.jsxs("div",{className:"bg-indigo-50 p-3 md:p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:s("payment_table.check_payments")}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:ae})]}),e.jsxs("div",{className:"bg-pink-50 p-3 md:p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:s("payment_table.total_invoice_value")}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900 cursor-help",onMouseEnter:t=>v(N(L),t),onMouseLeave:_,children:e.jsx(g,{amount:L})})]}),e.jsxs("div",{className:"bg-cyan-50 p-3 md:p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:s("payment_table.payment_ratio")}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:[Math.round(re),"%"]})]})]})]}),K&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s("payment_table.edit_payment")}),e.jsx("button",{onClick:()=>{S(!1),b(null),k({})},className:"text-gray-400 hover:text-gray-500",disabled:o,children:e.jsx(ne,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-blue-900",children:E(i)}),e.jsxs("div",{className:"text-xs text-blue-700",children:[C(i.date)," • ",V(i.amount)]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("payment_table.amount")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"Rp"}),e.jsx("input",{type:"number",value:c.amount,onChange:t=>p({...c,amount:t.target.value}),className:`w-full pl-10 pr-3 py-2 border ${l.amount?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,placeholder:"0",required:!0,disabled:o}),l.amount&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.amount})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("payment_table.method")," *"]}),e.jsxs("select",{value:c.method,onChange:t=>p({...c,method:t.target.value}),className:`w-full px-3 py-2 border ${l.method?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,disabled:o,children:[e.jsx("option",{value:"transfer",children:s("payment_table.method_transfer")}),e.jsx("option",{value:"cash",children:s("payment_table.method_cash")}),e.jsx("option",{value:"check",children:s("payment_table.method_check")})]}),l.method&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.method})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("payment_table.date")," *"]}),e.jsx("input",{type:"date",value:c.date,onChange:t=>p({...c,date:t.target.value}),className:`w-full px-3 py-2 border ${l.date?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,required:!0,disabled:o}),l.date&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("payment_table.bank")}),e.jsx("input",{type:"text",value:c.bank,onChange:t=>p({...c,bank:t.target.value}),className:`w-full px-3 py-2 border ${l.bank?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,placeholder:"e.g., BCA, Mandiri",disabled:o}),l.bank&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.bank})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("payment_table.notes")}),e.jsx("textarea",{value:c.note,onChange:t=>p({...c,note:t.target.value}),className:`w-full px-3 py-2 border ${l.note?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,rows:"3",placeholder:s("payment_table.notes_placeholder"),disabled:o}),l.note&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.note})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t",children:[e.jsx("button",{onClick:()=>{S(!1),b(null),k({})},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:s("payment_table.cancel")}),e.jsx("button",{onClick:U,disabled:o||!r,className:"px-4 py-2 bg-[#054748] text-white rounded-lg hover:bg-[#0a5d5e] transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s("payment_table.saving")]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),s("payment_table.update_payment")]})})]})]})}),Q&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:e.jsx(ie,{className:"h-6 w-6 text-red-600"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s("payment_table.delete_confirmation")}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:s("payment_table.delete_message")}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:E(i)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[C(i.date)," • ",V(i.amount)]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:["⚠️ ",s("payment_table.delete_warning")]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t",children:[e.jsx("button",{onClick:()=>{P(!1),b(null)},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:s("payment_table.cancel")}),e.jsx("button",{onClick:Z,disabled:o||!r,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s("payment_table.deleting")]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),s("payment_table.delete")]})})]})]})})]})};he.defaultProps={data:[],companyId:null,showInvoiceAmount:!1};export{he as default};
