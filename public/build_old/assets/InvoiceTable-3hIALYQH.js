import{r as d,j as e,R as G,c as Q}from"./app-Dyd-VK-i.js";import{u as Y}from"./useTranslation-C1duoCZq.js";import{F as C}from"./file-text-D0lOMtzR.js";import{S as Z}from"./search-AUTQuBot.js";import{C as ee}from"./chevron-down-BdiW-nc9.js";import{C as q}from"./circle-check-big-BEvmm_V7.js";import{L as te}from"./loader-C7d5DLY0.js";import{T as E}from"./trash-2-xd5U0av9.js";import{S as P}from"./square-pen-Cmebj4O1.js";import{c as U}from"./createLucideIcon-CMta4jpe.js";import{C as S}from"./circle-alert-C3TtVEnV.js";import{P as se}from"./percent-BH4ewhPU.js";import{X as ae}from"./x-Dg_sVrJD.js";import{U as le}from"./user-DGMjLAi-.js";import{C as re}from"./clock-CiSfxGeq.js";const ne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ie=U("dollar-sign",ne);const ce=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oe=U("trending-up",ce),$e=({data:v,companyId:k})=>{const{t:s}=Y(),[T,L]=d.useState(v||[]),[de,xe]=d.useState(null),[p,H]=d.useState(""),[N,z]=d.useState("all"),[$,me]=d.useState("date"),[y,ue]=d.useState("desc"),[o,w]=d.useState([]),[be,he]=d.useState(null),[x,j]=d.useState(!1),[i,g]=d.useState(v||[]),[m,D]=d.useState(!1),[_,A]=d.useState({show:!1,type:"info",title:"",message:"",autoClose:!0,duration:5e3});d.useEffect(()=>{L(v||[]),g(v||[])},[v]);const u=(t,a,l,c=!0)=>{A({show:!0,type:t,title:a,message:l,autoClose:c,duration:5e3}),c&&setTimeout(()=>{A(r=>({...r,show:!1}))},5e3)},B=()=>{if(!_.show)return null;const t={info:"bg-blue-50 border-blue-200",warning:"bg-yellow-50 border-yellow-200",error:"bg-red-50 border-red-200",success:"bg-green-50 border-green-200"}[_.type],a={info:"text-blue-800",warning:"text-yellow-800",error:"text-red-800",success:"text-green-800"}[_.type],l={info:e.jsx(S,{className:"w-5 h-5"}),warning:e.jsx(S,{className:"w-5 h-5"}),error:e.jsx(S,{className:"w-5 h-5"}),success:e.jsx(q,{className:"w-5 h-5"})}[_.type];return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center p-4 pointer-events-none",children:e.jsx("div",{className:`max-w-md w-full border rounded-lg shadow-lg p-4 pointer-events-auto ${t}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`flex-shrink-0 ${a}`,children:l}),e.jsxs("div",{className:"ml-3 w-0 flex-1",children:[e.jsx("h3",{className:`text-sm font-medium ${a}`,children:_.title}),e.jsx("div",{className:"mt-1 text-sm",children:e.jsx("p",{className:a,children:_.message})})]}),e.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:e.jsxs("button",{className:`rounded-md inline-flex ${a} hover:opacity-80 focus:outline-none`,onClick:()=>A(c=>({...c,show:!1})),children:[e.jsx("span",{className:"sr-only",children:s("invoice_table.close")}),e.jsx(ae,{className:"h-5 w-5"})]})})]})})})},K=t=>!t&&t!==0?s("invoice_table.currency_format",{amount:0}):new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),b=({amount:t,maxLength:a=15})=>{const[l,c]=G.useState(!1),r=K(t);return r.length<=a?e.jsx("span",{children:r}):e.jsx("span",{className:"relative",children:e.jsxs("span",{className:"cursor-pointer hover:underline",onClick:()=>c(!l),children:[l?r:r.slice(0,a)+"...",e.jsx("span",{className:"ml-1 text-xs text-blue-500",children:s(l?"invoice_table.hide":"invoice_table.view")})]})})},h=i.filter(t=>{const a=p===""||t.invoice_number&&t.invoice_number.toLowerCase().includes(p.toLowerCase())||t.contact_person?.name&&t.contact_person.name.toLowerCase().includes(p.toLowerCase())||t.quotation?.quotation_number&&t.quotation.quotation_number.toLowerCase().includes(p.toLowerCase())||t.contact_person?.email&&t.contact_person.email.toLowerCase().includes(p.toLowerCase())||t.note&&t.note.toLowerCase().includes(p.toLowerCase());let l=t.status?t.status.toLowerCase():"";const c={paid:["paid","lunas","terbayar"],unpaid:["unpaid","belum bayar","outstanding"],draft:["draft","draf"],cancelled:["cancelled","canceled","batal","dibatalkan"],invoice:["invoice","sent","terkirim"],partial:["partial","sebagian"]};let r=!1;return N==="all"?r=!0:c[N]?r=c[N].includes(l):r=l===N,a&&r}).sort((t,a)=>{try{if($==="date"){const r=t.date?new Date(t.date):new Date(0),n=a.date?new Date(a.date):new Date(0);return isNaN(r.getTime())&&isNaN(n.getTime())?0:isNaN(r.getTime())?y==="desc"?1:-1:isNaN(n.getTime())?y==="desc"?-1:1:y==="desc"?n-r:r-n}if($==="amount"){const r=parseFloat(t.invoice_amount)||0,n=parseFloat(a.invoice_amount)||0;return y==="desc"?n-r:r-n}if($==="due"){const r=parseFloat(t.amount_due)||0,n=parseFloat(a.amount_due)||0;return y==="desc"?n-r:r-n}const l=t.date?new Date(t.date):new Date(0);return(a.date?new Date(a.date):new Date(0))-l}catch(l){return console.error("Sorting error:",l),0}}),R=t=>{const a="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium";if(!t)return e.jsx("span",{className:`${a} bg-gray-100 text-gray-800`,children:s("invoice_table.status_unknown")});const l=t.toLowerCase().trim();return l.includes("cancel")||l.includes("batal")?e.jsxs("span",{className:`${a} bg-red-100 text-red-800`,children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:s("invoice_table.status_cancelled")})]}):l.includes("unpaid")||l.includes("belum")||l==="outstanding"?e.jsxs("span",{className:`${a} bg-yellow-100 text-yellow-800`,children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:s("invoice_table.status_unpaid")})]}):l==="paid"||l.includes("lunas")||l.includes("terbayar")?e.jsxs("span",{className:`${a} bg-green-100 text-green-800`,children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:s("invoice_table.status_paid")})]}):l.includes("partial")||l.includes("sebagian")?e.jsxs("span",{className:`${a} bg-purple-100 text-purple-800`,children:[e.jsx(oe,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:s("invoice_table.status_partial")})]}):l.includes("draft")||l.includes("draf")?e.jsxs("span",{className:`${a} bg-gray-100 text-gray-800`,children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:s("invoice_table.status_draft")})]}):l.includes("invoice")||l.includes("sent")||l.includes("terkirim")?e.jsxs("span",{className:`${a} bg-blue-100 text-blue-800`,children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:s("invoice_table.status_invoice_sent")})]}):e.jsx("span",{className:`${a} bg-gray-100 text-gray-800`,children:t})},M=t=>{if(!t)return s("invoice_table.not_available");try{const a=new Date(t);return isNaN(a.getTime())?s("invoice_table.invalid_date"):a.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}catch{return s("invoice_table.invalid_date")}},W=()=>{o.length===h.length?w([]):w(h.map(t=>t.id))},I=t=>{w(a=>a.includes(t)?a.filter(l=>l!==t):[...a,t])},X=t=>{if(!t||!t.id){u("error",s("invoice_table.error"),s("invoice_table.invalid_data"));return}const a=`/invoice/${t.id}/edit`;Q.visit(a,{method:"get",preserveState:!0,preserveScroll:!1,onStart:()=>j(!0),onFinish:()=>j(!1),onError:l=>{console.error("Error navigating to edit page:",l),u("error",s("invoice_table.error"),s("invoice_table.cannot_open_edit"),!1)}})},O=async t=>{if(!t||!t.id||!k){u("error",s("invoice_table.error"),s("invoice_table.invalid_data"));return}const a=s("invoice_table.delete_confirm_message",{invoiceNumber:t.invoice_number||t.id});if(window.confirm(a))try{D(!0),j(!0);const l=i.filter(f=>f.id!==t.id);g(l),o.includes(t.id)&&w(f=>f.filter(F=>F!==t.id));const c=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",n=await(await fetch(`/companies/${k}/invoices/${t.id}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"include"})).json();n.success?(u("success",s("invoice_table.success"),s("invoice_table.delete_success")),L(f=>f.filter(F=>F.id!==t.id))):(g(T),u("error",s("invoice_table.error"),n.message||s("invoice_table.delete_error"),!1))}catch(l){console.error("Delete error:",l),g(T),u("error",s("invoice_table.error"),s("invoice_table.delete_error"),!1)}finally{D(!1),j(!1)}},J=async()=>{if(o.length===0||!k){u("warning",s("invoice_table.warning"),s("invoice_table.no_selection"));return}const t=s("invoice_table.bulk_delete_confirm",{count:o.length});if(window.confirm(t))try{D(!0),j(!0);const a=[...i],l=i.filter(f=>!o.includes(f.id));g(l);const c=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",n=await(await fetch(`/companies/${k}/invoices/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"include",body:JSON.stringify({invoice_ids:o})})).json();n.success?(u("success",s("invoice_table.success"),s("invoice_table.bulk_delete_success",{count:n.deleted_count||o.length})),w([]),L(l)):(g(a),u("error",s("invoice_table.error"),n.message||s("invoice_table.bulk_delete_error"),!1))}catch(a){console.error("Bulk delete error:",a),g(T),u("error",s("invoice_table.error"),s("invoice_table.bulk_delete_error"),!1)}finally{D(!1),j(!1)}},V=({invoice:t})=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-3 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:o.includes(t.id),onChange:()=>I(t.id),className:"h-4 w-4 text-blue-600 rounded",disabled:x||m}),e.jsx(C,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:t.invoice_number||s("invoice_table.no_number")}),e.jsx("p",{className:"text-xs text-gray-500",children:M(t.date)})]})]}),R(t.status)]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(le,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:t.contact_person?.name||s("invoice_table.no_contact_person")})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:s("invoice_table.amount")}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:e.jsx(b,{amount:t.invoice_amount})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:s("invoice_table.due")}),e.jsx("p",{className:"text-sm font-bold text-red-600",children:e.jsx(b,{amount:t.amount_due})})]})]}),e.jsxs("div",{className:"flex justify-between space-x-2",children:[e.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-blue-50 text-blue-700 rounded text-xs hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>X(t),disabled:x||m,children:[e.jsx(P,{className:"w-3 h-3"}),e.jsx("span",{children:s("invoice_table.edit")})]}),e.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-red-50 text-red-700 rounded text-xs hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>O(t),disabled:x||m,children:[e.jsx(E,{className:"w-3 h-3"}),e.jsx("span",{children:s("invoice_table.delete")})]})]})]});return!i||i.length===0?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center text-gray-500",children:[e.jsx(B,{}),e.jsx("div",{className:"mb-2",children:e.jsx(C,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s("invoice_table.no_invoices_found")}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:s("invoice_table.no_invoices_message")})]}):e.jsxs("div",{className:"relative",children:[e.jsx(B,{}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:s("invoice_table.invoice_list")}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:s("invoice_table.invoice_count",{count:i.length,filteredCount:h.length})})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:s("invoice_table.search_placeholder"),value:p,onChange:t=>H(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:x||m})]})}),e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:N,onChange:t=>z(t.target.value),className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-lg appearance-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:x||m,children:[e.jsx("option",{value:"all",children:s("invoice_table.all_status")}),e.jsx("option",{value:"paid",children:s("invoice_table.status_paid")}),e.jsx("option",{value:"unpaid",children:s("invoice_table.status_unpaid")}),e.jsx("option",{value:"draft",children:s("invoice_table.status_draft")}),e.jsx("option",{value:"cancelled",children:s("invoice_table.status_cancelled")}),e.jsx("option",{value:"partial",children:s("invoice_table.status_partial")})]}),e.jsx(ee,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]})})]}),o.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsxs("span",{className:"font-medium text-blue-800",children:[o.length," ",s("invoice_table.invoices_selected")]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 flex items-center disabled:opacity-50 disabled:cursor-not-allowed",onClick:J,disabled:x||m,children:[x||m?e.jsx(te,{className:"w-4 h-4 animate-spin mr-1"}):e.jsx(E,{className:"w-4 h-4 inline mr-1"}),s("invoice_table.delete_selected")]})})]})})]}),e.jsx("div",{className:"sm:hidden space-y-3",children:h.map(t=>e.jsx(V,{invoice:t},t.id))}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#eaf6f6]",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase border-r border-gray-200",children:e.jsx("input",{type:"checkbox",checked:o.length===h.length&&h.length>0,onChange:W,className:"h-4 w-4 text-blue-600 rounded",disabled:x||m})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase border-r border-gray-200",children:s("invoice_table.invoice")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase border-r border-gray-200",children:s("invoice_table.invoice_amount")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase border-r border-gray-200",children:s("invoice_table.payment_term")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase border-r border-gray-200",children:s("invoice_table.tax_info")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase border-r border-gray-200",children:s("invoice_table.amount_due")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase border-r border-gray-200",children:s("invoice_table.status")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:s("invoice_table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((t,a)=>e.jsxs("tr",{className:`hover:bg-gray-50 ${o.includes(t.id)?"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:o.includes(t.id),onChange:()=>I(t.id),className:"h-4 w-4 text-blue-600 rounded disabled:opacity-50 disabled:cursor-not-allowed",disabled:x||m})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.invoice_number||s("invoice_table.not_available")}),e.jsx("div",{className:"text-xs text-gray-500",children:M(t.date)})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"font-semibold text-gray-900",children:e.jsx(b,{amount:t.invoice_amount})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"text-gray-900",children:t.payment_terms||s("invoice_table.not_available")})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"text-gray-900",children:[s("invoice_table.ppn"),": ",t.ppn||0," ",e.jsx("br",{}),s("invoice_table.pph"),": ",t.pph||0]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"font-bold text-red-600",children:e.jsx(b,{amount:t.amount_due})})}),e.jsx("td",{className:"px-4 py-3",children:R(t.status)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{title:s("invoice_table.edit_invoice"),className:"p-1 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>X(t),disabled:x||m,children:e.jsx(P,{className:"w-4 h-4"})}),e.jsx("button",{title:s("invoice_table.delete_invoice"),className:"p-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>O(t),disabled:x||m,children:e.jsx(E,{className:"w-4 h-4"})})]})})]},t.id))})]})})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:s("invoice_table.invoice_summary")}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:s("invoice_table.total_invoices")})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:i.length}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s("invoice_table.matching_filter"),": ",h.length]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:s("invoice_table.total_amount")})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:e.jsx(b,{amount:i.reduce((t,a)=>t+(a.invoice_amount||0),0)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s("invoice_table.all_invoices")})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:s("invoice_table.total_due")})]}),e.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:e.jsx(b,{amount:i.reduce((t,a)=>t+(a.amount_due||0),0)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s("invoice_table.unpaid_balance")})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:s("invoice_table.tax_summary")})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:e.jsx(b,{amount:i.reduce((t,a)=>t+(a.ppn||0),0)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s("invoice_table.total_ppn")})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s("invoice_table.paid_invoices")}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:i.filter(t=>t.status==="Paid"||t.status==="paid").length})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s("invoice_table.unpaid_invoices")}),e.jsx("p",{className:"text-xl font-bold text-yellow-600",children:i.filter(t=>t.status==="Unpaid"||t.status==="unpaid").length})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s("invoice_table.average_invoice")}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:e.jsx(b,{amount:i.length>0?i.reduce((t,a)=>t+(a.invoice_amount||0),0)/i.length:0})})]})]})]}),!1]})};export{$e as default};
