import{a as R,r as h,u as N,j as e}from"./app-D-CXuYp-.js";import{T as g,a as f,b as d,c as r,d as y,e as t}from"./Table-CVqFnP0M.js";import{B as o}from"./Button-CKm56AAs.js";import{t as i}from"./index-2VGEpQq_.js";import{S as v}from"./SimpleModal-Bh1mFJKt.js";import{P as C}from"./plus-9mmXNL9j.js";import{S as k}from"./square-pen-BuP-lLgl.js";import{T as P}from"./trash-2-C428PtZi.js";import{L as T}from"./loader-circle-Cmn6e3Cc.js";function Y(){const{numbering:l,statuses:D,paymentTypes:_}=R().props,[O,p]=h.useState(!1),[E,m]=h.useState(!1),[b,w]=h.useState(null),[I,x]=h.useState(!1),[j,S]=h.useState(null),a=N({name:"",note:"",color:"",color_name:""}),n=N({name:"",note:"",order:0}),c=N({id:l?.id||null,prefix:l?.prefix||"",padding:l?.padding||"",next_number:l?.next_number||""}),B=()=>{c.setData({id:l.id,prefix:l.prefix,padding:l.padding,next_number:l.next_number}),p(!0)},M=s=>{s.preventDefault(),c.post(`/setting/invoice_numbering/update/${c.data.id}`,{onSuccess:()=>{i.success("Numbering setting updated!"),p(!1)}})},q=()=>{w(null),a.reset(),m(!0)},A=s=>{w(s),a.setData({name:s.name,note:s.note||"",color:s.color,color_name:s.color_name}),m(!0)},F=s=>{s.preventDefault(),b?a.put(`/setting/invoice-status/update/${b.id}`,{onSuccess:()=>{i.success("Status updated successfully"),m(!1)}}):a.post("/setting/invoice-status/store",{onSuccess:()=>{i.success("Status added successfully"),m(!1),a.reset()}})},G=s=>{confirm("Are you sure you want to delete this status?")&&a.delete(`/setting/invoice-status/destroy/${s}`,{onSuccess:()=>i.success("Status deleted successfully")})},$=s=>{s.preventDefault(),j?n.put(`/setting/payment-type/update/${j.id}`,{onSuccess:()=>{i.success("Payment type updated successfully"),x(!1)}}):n.post("/setting/payment-type/store",{onSuccess:()=>{i.success("Payment type added successfully"),x(!1),n.reset()}})},L=s=>{confirm("Are you sure you want to delete this payment type?")&&n.delete(`/setting/payment-type/destroy/${s}`,{onSuccess:()=>i.success("Payment type deleted successfully")})};return e.jsxs("div",{className:"space-y-8 p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-red-700 mb-6 uppercase tracking-wider",children:"Invoice Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"Numbering Setting"}),e.jsx(o,{onClick:B,className:"bg-teal-800 hover:bg-teal-900 text-white px-8 h-9 font-bold uppercase text-xs tracking-widest",children:"Edit"})]}),e.jsx("div",{className:"border border-teal-900 rounded-lg overflow-hidden shadow-sm",children:e.jsxs(g,{children:[e.jsx(f,{className:"bg-teal-900",children:e.jsxs(d,{className:"hover:bg-teal-900 border-none",children:[e.jsx(r,{className:"text-white font-bold w-16 text-center",children:"No"}),e.jsx(r,{className:"text-white font-bold w-32 text-center",children:"Field"}),e.jsx(r,{className:"text-white font-bold w-32 text-center",children:"Value"}),e.jsx(r,{className:"text-white font-bold text-center",children:"Description"})]})}),e.jsxs(y,{children:[e.jsxs(d,{className:"border-b",children:[e.jsx(t,{className:"text-center font-medium",children:"1"}),e.jsx(t,{className:"text-center font-bold uppercase text-xs",children:"Prefix"}),e.jsx(t,{className:"text-center font-bold text-teal-700",children:l.prefix}),e.jsx(t,{className:"text-gray-600 italic text-sm",children:l.prefix_description})]}),e.jsxs(d,{className:"border-b",children:[e.jsx(t,{className:"text-center font-medium",children:"2"}),e.jsx(t,{className:"text-center font-bold uppercase text-xs",children:"Padding"}),e.jsx(t,{className:"text-center font-bold text-teal-700",children:l.padding}),e.jsx(t,{className:"text-gray-600 italic text-sm",children:l.padding_description})]}),e.jsxs(d,{children:[e.jsx(t,{className:"text-center font-medium",children:"3"}),e.jsx(t,{className:"text-center font-bold uppercase text-xs",children:"Next Number"}),e.jsx(t,{className:"text-center font-bold text-teal-700",children:l.next_number}),e.jsx(t,{className:"text-gray-600 italic text-sm",children:l.next_number_description})]})]})]})})]}),e.jsxs("div",{className:"space-y-4 pt-9",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"Invoice Statuses"}),e.jsxs(o,{onClick:q,className:"bg-teal-800 hover:bg-teal-900 text-white shadow-md flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"})," Add Status"]})]}),e.jsx("div",{className:"border border-teal-900 rounded-lg overflow-hidden bg-white shadow-sm",children:e.jsxs(g,{children:[e.jsx(f,{className:"bg-teal-900",children:e.jsxs(d,{className:"hover:bg-teal-900 border-none",children:[e.jsx(r,{className:"text-white text-center w-16 font-bold",children:"No"}),e.jsx(r,{className:"text-white font-bold",children:"Status"}),e.jsx(r,{className:"text-white font-bold",children:"Note"}),e.jsx(r,{className:"text-white font-bold",children:"Color"}),e.jsx(r,{className:"text-white text-center w-24 font-bold",children:"Action"})]})}),e.jsx(y,{children:D?.map((s,u)=>e.jsxs(d,{className:"border-b",children:[e.jsx(t,{className:"text-center",children:u+1}),e.jsx(t,{className:"font-bold",children:s.name}),e.jsx(t,{className:"text-sm text-gray-600",children:s.note}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),s.color_name]})}),e.jsx(t,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-blue-600 cursor-pointer",onClick:()=>A(s)}),e.jsx(P,{className:"w-4 h-4 text-red-600 cursor-pointer",onClick:()=>G(s.id)})]})})]},s.id))})]})})]}),e.jsxs("div",{className:"space-y-4 pt-9",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"Payment Types"}),e.jsxs(o,{onClick:()=>{S(null),n.reset(),x(!0)},className:"bg-teal-800 hover:bg-teal-900 text-white shadow-md flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"})," Add Payment Type"]})]}),e.jsx("div",{className:"border border-teal-900 rounded-lg overflow-hidden bg-white shadow-sm",children:e.jsxs(g,{children:[e.jsx(f,{className:"bg-teal-900",children:e.jsxs(d,{className:"hover:bg-teal-900 border-none",children:[e.jsx(r,{className:"text-white text-center w-16 font-bold",children:"No"}),e.jsx(r,{className:"text-white font-bold",children:"Name"}),e.jsx(r,{className:"text-white font-bold",children:"Note"}),e.jsx(r,{className:"text-white font-bold text-center w-24",children:"Order"}),e.jsx(r,{className:"text-white text-center w-24 font-bold",children:"Action"})]})}),e.jsx(y,{children:_?.map((s,u)=>e.jsxs(d,{className:"border-b",children:[e.jsx(t,{className:"text-center",children:u+1}),e.jsx(t,{className:"font-bold",children:s.name}),e.jsx(t,{className:"text-sm text-gray-600",children:s.note}),e.jsx(t,{className:"text-center",children:s.order}),e.jsx(t,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-blue-600 cursor-pointer",onClick:()=>{S(s),n.setData({name:s.name,note:s.note||"",order:s.order||0}),x(!0)}}),e.jsx(P,{className:"w-4 h-4 text-red-600 cursor-pointer",onClick:()=>L(s.id)})]})})]},s.id))})]})})]}),e.jsx(v,{isOpen:O,onClose:()=>p(!1),title:"EDIT INVOICE NUMBERING",children:e.jsxs("form",{onSubmit:M,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-teal-900 uppercase",children:"Prefix"}),e.jsx("input",{type:"text",className:"w-full border-gray-300 rounded-lg text-sm",value:c.data.prefix,onChange:s=>c.setData("prefix",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-teal-900 uppercase",children:"Padding (Length)"}),e.jsx("input",{type:"number",className:"w-full border-gray-300 rounded-lg text-sm",value:c.data.padding,onChange:s=>c.setData("padding",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-teal-900 uppercase",children:"Next Number"}),e.jsx("input",{type:"number",className:"w-full border-gray-300 rounded-lg text-sm",value:c.data.next_number,onChange:s=>c.setData("next_number",s.target.value),required:!0})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-6",children:e.jsx(o,{type:"submit",disabled:c.processing,className:"bg-teal-800 text-white",children:c.processing?"Saving...":"Save Changes"})})]})}),e.jsx(v,{isOpen:E,onClose:()=>m(!1),title:b?"Edit Invoice Status":"Create New Invoice Status",children:e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status Name"}),e.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2",value:a.data.name,onChange:s=>a.setData("name",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Note"}),e.jsx("textarea",{className:"mt-1 block w-full border border-gray-300 rounded-md p-2",rows:"2",value:a.data.note,onChange:s=>a.setData("note",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Color"}),e.jsxs("select",{required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2",value:a.data.color_name,onChange:s=>{const u={Orange:"#F97316",Blue:"#3B82F6",Green:"#22C55E",Gray:"#6B7280"};a.setData({...a.data,color_name:s.target.value,color:u[s.target.value]||""})},children:[e.jsx("option",{value:"",children:"-- Choose Color --"}),e.jsx("option",{value:"Orange",children:"Orange"}),e.jsx("option",{value:"Blue",children:"Blue"}),e.jsx("option",{value:"Green",children:"Green"}),e.jsx("option",{value:"Gray",children:"Gray"})]})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-4",children:e.jsx(o,{type:"submit",className:"bg-teal-900 text-white",disabled:a.processing,children:a.processing?e.jsx(T,{className:"animate-spin"}):"Save Changes"})})]})}),e.jsx(v,{isOpen:I,onClose:()=>x(!1),title:j?"Edit Payment Type":"Create New Payment Type",children:e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2",value:n.data.name,onChange:s=>n.setData("name",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Note"}),e.jsx("textarea",{className:"mt-1 block w-full border border-gray-300 rounded-md p-2",rows:"2",value:n.data.note,onChange:s=>n.setData("note",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Order"}),e.jsx("input",{type:"number",className:"mt-1 block w-32 border border-gray-300 rounded-md p-2",value:n.data.order,onChange:s=>n.setData("order",s.target.value)})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-4",children:e.jsx(o,{type:"submit",className:"bg-teal-900 text-white",disabled:n.processing,children:n.processing?e.jsx(T,{className:"animate-spin"}):"Save Changes"})})]})})]})}export{Y as I};
