import{a as P,r as h,u as b,j as e}from"./app-BTbkV42h.js";import{T as j,a as g,b as i,c as n,d as N,e as s}from"./Table-On6ePeRn.js";import{B as c,t as d}from"./index-D03uCI9s.js";import{S as f}from"./SimpleModal-CS7iyRbD.js";import{P as q}from"./plus-CvJgb19b.js";import{S as E}from"./square-pen-6MOQKBaz.js";import{T}from"./trash-2-DAvdOtVv.js";import{L as B}from"./loader-circle-DvkhTUhf.js";import{S as G}from"./SettingsLayout-Bqibs-y1.js";import"./x-bUU7PHNQ.js";import"./createLucideIcon-DHxmSlVR.js";import"./settings-CdYEu26S.js";import"./users-CIlJNvUQ.js";import"./file-text-DZzzDjT5.js";import"./receipt-B79npxa6.js";import"./percent-B6QSAovG.js";import"./mail-CMvUT1Eg.js";function M(){const{numbering:l,statuses:v}=P().props,[y,x]=h.useState(!1),[w,o]=h.useState(!1),[m,p]=h.useState(null),a=b({name:"",note:"",color:"",color_name:""}),r=b({id:l?.id||null,prefix:l?.prefix||"",padding:l?.padding||"",next_number:l?.next_number||""}),S=()=>{r.setData({id:l.id,prefix:l.prefix,padding:l.padding,next_number:l.next_number}),x(!0)},C=t=>{t.preventDefault(),r.post(`/setting/quotation_numbering/update/${r.data.id}`,{onSuccess:()=>{d.success("Numbering setting updated!"),x(!1)}})},_=()=>{p(null),a.reset(),o(!0)},k=t=>{p(t),a.setData({name:t.name,note:t.note||"",color:t.color,color_name:t.color_name}),o(!0)},D=t=>{t.preventDefault(),m?a.put(`/setting/quotation-status/update/${m.id}`,{onSuccess:()=>{d.success("Status updated successfully"),o(!1)}}):a.post("/setting/quotation-status/store",{onSuccess:()=>{d.success("Status added successfully"),o(!1),a.reset()}})},O=t=>{confirm("Are you sure you want to delete this status?")&&a.delete(`/setting/quotation-status/destroy/${t}`,{onSuccess:()=>d.success("Status deleted successfully")})};return e.jsxs("div",{className:"space-y-8 p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-red-700 mb-6 uppercase tracking-wider",children:"Quotation Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"Numbering Setting"}),e.jsx(c,{onClick:S,className:"bg-teal-800 hover:bg-teal-900 text-white px-8 h-9 font-bold uppercase text-xs tracking-widest",children:"Edit"})]}),e.jsx("div",{className:"border border-teal-900 rounded-lg overflow-hidden shadow-sm",children:e.jsxs(j,{children:[e.jsx(g,{className:"bg-teal-900",children:e.jsxs(i,{className:"hover:bg-teal-900 border-none",children:[e.jsx(n,{className:"text-white font-bold w-16 text-center",children:"No"}),e.jsx(n,{className:"text-white font-bold w-32 text-center",children:"Field"}),e.jsx(n,{className:"text-white font-bold w-32 text-center",children:"Value"}),e.jsx(n,{className:"text-white font-bold text-center",children:"Description"})]})}),e.jsxs(N,{children:[e.jsxs(i,{className:"border-b",children:[e.jsx(s,{className:"text-center font-medium",children:"1"}),e.jsx(s,{className:"text-center font-bold uppercase text-xs",children:"Prefix"}),e.jsx(s,{className:"text-center font-bold text-teal-700",children:l.prefix}),e.jsx(s,{className:"text-gray-600 italic text-sm",children:l.prefix_description})]}),e.jsxs(i,{className:"border-b",children:[e.jsx(s,{className:"text-center font-medium",children:"2"}),e.jsx(s,{className:"text-center font-bold uppercase text-xs",children:"Padding"}),e.jsx(s,{className:"text-center font-bold text-teal-700",children:l.padding}),e.jsx(s,{className:"text-gray-600 italic text-sm",children:l.padding_description})]}),e.jsxs(i,{children:[e.jsx(s,{className:"text-center font-medium",children:"3"}),e.jsx(s,{className:"text-center font-bold uppercase text-xs",children:"Next Number"}),e.jsx(s,{className:"text-center font-bold text-teal-700",children:l.next_number}),e.jsx(s,{className:"text-gray-600 italic text-sm",children:l.next_number_description})]})]})]})})]}),e.jsxs("div",{className:"space-y-4 pt-9",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"Quotations Status"}),e.jsxs(c,{onClick:_,className:"bg-teal-800 hover:bg-teal-900 text-white shadow-md flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"})," Add Status"]})]}),e.jsx("div",{className:"border border-teal-900 rounded-lg overflow-hidden bg-white shadow-sm",children:e.jsxs(j,{children:[e.jsx(g,{className:"bg-teal-900",children:e.jsxs(i,{className:"hover:bg-teal-900 border-none",children:[e.jsx(n,{className:"text-white text-center w-16 font-bold",children:"No"}),e.jsx(n,{className:"text-white font-bold",children:"Status"}),e.jsx(n,{className:"text-white font-bold",children:"Note"}),e.jsx(n,{className:"text-white font-bold",children:"Color"}),e.jsx(n,{className:"text-white text-center w-24 font-bold",children:"Action"})]})}),e.jsx(N,{children:v?.map((t,u)=>e.jsxs(i,{className:"border-b",children:[e.jsx(s,{className:"text-center",children:u+1}),e.jsx(s,{className:"font-bold",children:t.name}),e.jsx(s,{className:"text-sm text-gray-600",children:t.note}),e.jsx(s,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),t.color_name]})}),e.jsx(s,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-blue-600 cursor-pointer",onClick:()=>k(t)}),e.jsx(T,{className:"w-4 h-4 text-red-600 cursor-pointer",onClick:()=>O(t.id)})]})})]},t.id))})]})})]}),e.jsx(f,{isOpen:y,onClose:()=>x(!1),title:"EDIT PROPOSAL NUMBERING",children:e.jsxs("form",{onSubmit:C,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-teal-900 uppercase",children:"Prefix"}),e.jsx("input",{type:"text",className:"w-full border-gray-300 rounded-lg text-sm",value:r.data.prefix,onChange:t=>r.setData("prefix",t.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-teal-900 uppercase",children:"Padding (Length)"}),e.jsx("input",{type:"number",className:"w-full border-gray-300 rounded-lg text-sm",value:r.data.padding,onChange:t=>r.setData("padding",t.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-teal-900 uppercase",children:"Next Number"}),e.jsx("input",{type:"number",className:"w-full border-gray-300 rounded-lg text-sm",value:r.data.next_number,onChange:t=>r.setData("next_number",t.target.value),required:!0})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-6",children:e.jsx(c,{type:"submit",disabled:r.processing,className:"bg-teal-800 text-white",children:r.processing?"Saving...":"Save Changes"})})]})}),e.jsx(f,{isOpen:w,onClose:()=>o(!1),title:m?"Edit Quotation Status":"Create New Quotation Status",children:e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status Name"}),e.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2",value:a.data.name,onChange:t=>a.setData("name",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Note"}),e.jsx("textarea",{className:"mt-1 block w-full border border-gray-300 rounded-md p-2",rows:"2",value:a.data.note,onChange:t=>a.setData("note",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Color"}),e.jsxs("select",{required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2",value:a.data.color_name,onChange:t=>{const u={Orange:"#F97316",Blue:"#3B82F6",Green:"#22C55E",Gray:"#6B7280"};a.setData({...a.data,color_name:t.target.value,color:u[t.target.value]||""})},children:[e.jsx("option",{value:"",children:"-- Choose Color --"}),e.jsx("option",{value:"Orange",children:"Orange"}),e.jsx("option",{value:"Blue",children:"Blue"}),e.jsx("option",{value:"Green",children:"Green"}),e.jsx("option",{value:"Gray",children:"Gray"})]})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-4",children:e.jsx(c,{type:"submit",className:"bg-teal-900 text-white",disabled:a.processing,children:a.processing?e.jsx(B,{className:"animate-spin"}):"Save Changes"})})]})})]})}function ee(){return e.jsx(G,{children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 min-h-screen",children:e.jsx(M,{})})})}export{ee as default};
